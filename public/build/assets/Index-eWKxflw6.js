import{r as s,j as e,a as y}from"./app-BGrlIOB8.js";import{A as v}from"./AuthenticatedLayout-X6LyfNqf.js";import P from"./SearchBox-BKdkciiy.js";import N from"./Table-B4stcbh7.js";import{a as S}from"./ProvinceApi-BfCA5BaZ.js";import"./index-Blqs8vea.js";import"./Api-_485fmwb.js";import"./CountryDropdown-15e23UzF.js";import"./react-select.esm-DzUBhU4r.js";import"./floating-ui.dom-DtcZXcvp.js";import"./CountryApi-Crjr2a2x.js";import"./Table-BqnJdb4d.js";import"./Pagination-D0f-Sv8X.js";function I({auth:i}){const[l,m]=s.useState([]),[c,d]=s.useState(""),[o,h]=s.useState(""),[p,u]=s.useState({currentPage:1,lastPage:1,total:0,perPage:10}),n=async(a=1)=>{try{const t=[];(c||o)&&(t.push(`name_en[like]=${c}`),o!=""&&t.push(`country_id[eq]=${o}`));const f=t.length>0?`&${t.join("&")}`:"",r=await S(a,f);m(r.data.data),u({currentPage:r.data.meta.current_page,lastPage:r.data.meta.last_page,total:r.data.meta.total,perPage:r.data.meta.per_page})}catch(t){console.error("There was an error fetching the province data!",t)}};s.useEffect(()=>{n()},[o,c]);const x=a=>{d(a)},g=a=>h(a),j=a=>{n(a)};return e.jsxs(v,{user:i.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Provinces"}),children:[e.jsx("div",{className:"container-fluid",children:e.jsx("div",{className:"page-title",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-sm-6 col-12",children:[e.jsx("h2",{children:"Provinces"}),e.jsx("p",{className:"mb-0 text-title-gray",children:"Welcome back! Letâ€™s start from where you left."})]}),e.jsx("div",{className:"col-sm-6 col-12",children:e.jsx("ol",{className:"breadcrumb",children:e.jsx("li",{className:"breadcrumb-item",children:e.jsx(y,{href:"index.html",children:e.jsx("i",{className:"iconly-Home icli svg-color"})})})})})]})})}),e.jsxs("div",{className:"col-sm-12",children:[e.jsx(P,{onSearch:x,onCountrySearch:g}),e.jsx(N,{provinces:l,pagination:p,onPageChange:j})]})]})}export{I as default};
