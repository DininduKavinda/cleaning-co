import{r as s,j as t,a as J}from"./app--yM69B3u.js";import{A as K}from"./AuthenticatedLayout-C1S-0GyU.js";import O from"./SearchBox-C9ePaUtR.js";import U from"./Table-BX6l7k4c.js";import{g as V}from"./MatterApi-DhzzwAfi.js";import"./index-CW7j9gvC.js";import"./Api-Rb4oq7BM.js";import"./TaskDropdown-nHXHnEi_.js";import"./react-select.esm-gHH6TMdO.js";import"./floating-ui.dom-DtcZXcvp.js";import"./ClientApi-B_7ZANSU.js";import"./TaskApi-D4YgcytR.js";import"./StaffApi-C1Gbv2gD.js";import"./Table-4amYCKbp.js";import"./Pagination-D30oRUvE.js";function ue({auth:f}){const[y,g]=s.useState([]),[n,x]=s.useState(""),[c,Q]=s.useState(""),[o,j]=s.useState(""),[v,A]=s.useState(""),[i,N]=s.useState(""),[l,_]=s.useState(""),[d,$]=s.useState(null),[h,b]=s.useState(null),[u,k]=s.useState(null),[m,P]=s.useState(null),[p,q]=s.useState(null),[C,E]=s.useState({currentPage:1,lastPage:1,total:0,perPage:10}),S=async(e=1)=>{try{const a=[];(n||c||o||i||l||d||h||u||m||p)&&(n&&a.push(`name[like]=${n}`),c&&a.push(`code[like]=${c}`),o&&a.push(`started_at[gte]=${o}`),i!==""&&a.push(`status[eq]=${i}`),l!==""&&a.push(`active[eq]=${l}`),d&&a.push(`task_id[eq]=${d}`),h&&a.push(`client_id[eq]=${h}`),u&&a.push(`staff_id[eq]=${u}`),m&&a.push(`approved_by_id[eq]=${m}`),p&&a.push(`department_id[eq]=${p}`));const G=a.length>0?`&${a.join("&")}`:"",r=await V(e,G);g(r.data.data),E({currentPage:r.data.meta.current_page,lastPage:r.data.meta.last_page,total:r.data.meta.total,perPage:r.data.meta.per_page})}catch(a){console.error("There was an error fetching the matter data!",a)}};s.useEffect(()=>{S()},[n,c,o,v,i,l,d,h,u,m,p]);const M=e=>x(e),T=e=>Q(e),w=e=>j(e),B=e=>A(e),D=e=>N(e),H=e=>_(e),I=e=>$(e),L=e=>b(e),R=e=>k(e),W=e=>P(e),z=e=>q(e),F=e=>S(e);return t.jsxs(K,{matter:f.user,header:t.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Matters"}),children:[t.jsx("div",{className:"container-fluid",children:t.jsx("div",{className:"page-title",children:t.jsxs("div",{className:"row",children:[t.jsxs("div",{className:"col-sm-6 col-12",children:[t.jsx("h2",{children:"Matters"}),t.jsx("p",{className:"mb-0 text-title-gray",children:"Welcome back! Letâ€™s start from where you left."})]}),t.jsx("div",{className:"col-sm-6 col-12",children:t.jsx("ol",{className:"breadcrumb",children:t.jsx("li",{className:"breadcrumb-item",children:t.jsx(J,{href:"index.html",children:t.jsx("i",{className:"iconly-Home icli svg-color"})})})})})]})})}),t.jsxs("div",{className:"col-sm-12",children:[t.jsx(O,{onSearch:M,onActiveSearch:H,onTaskSearch:I,onClientSearch:L,onApproved_bySearch:W,onStaffSearch:R,onDepartmentSearch:z,onCodeSearch:T,onStartedAtSearch:w,onEndedAtSearch:B,onStatusSearch:D}),t.jsx(U,{matters:y,pagination:C,onPageChange:F})]})]})}export{ue as default};
