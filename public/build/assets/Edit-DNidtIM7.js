import{q as f,r as l,W as N,j as s}from"./app-XFbUVf-n.js";import{A as k}from"./AuthenticatedLayout-B9_jAqLR.js";import{a as b,u as g,c as v}from"./TaskApi-Bz3_CESL.js";import{B as T}from"./BootstrapToaster-Drkpczus.js";import"./index-DKFs-34d.js";import"./Api-C_e93x4I.js";function I({auth:m}){var o;const c=(o=f().props.task)==null?void 0:o.id,[i,n]=l.useState({type:"",message:"",title:""}),{data:r,setData:d}=N({name:""}),[a,h]=l.useState(!1);l.useEffect(()=>{c&&(h(!0),x())},[c]);const x=async()=>{try{const e=(await b(c)).data.data;d({name:e.name})}catch(t){console.error("Error fetching task data:",t)}},u=t=>{const{name:e,value:p}=t.target;d({...r,[e]:p})},j=async t=>{t.preventDefault();try{let e;a?e=await g(c,r):e=await v(r),e.status===201?n({type:"success",message:"success.",title:"Success"}):n({type:"error",message:e.data.message,title:"error"})}catch(e){console.error("Error saving task data:",e)}};return s.jsxs(k,{user:m.user,header:s.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:a?"Edit Task":"Create Task"}),children:[s.jsx("div",{className:"container-fluid",children:s.jsx("div",{className:"page-title",children:s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-sm-6 col-12",children:s.jsx("h2",{children:a?"Edit Task":"Create Task"})}),s.jsx("div",{className:"col-sm-6 col-12",children:s.jsxs("ol",{className:"breadcrumb",children:[s.jsx("li",{className:"breadcrumb-item",children:s.jsx("a",{href:"/",children:s.jsx("i",{className:"iconly-Home icli svg-color"})})}),s.jsx("li",{className:"breadcrumb-item",children:"Tasks"}),s.jsx("li",{className:"breadcrumb-item active",children:a?"Edit Task":"Create Task"})]})})]})})}),s.jsx("div",{className:"container-fluid",children:s.jsx("div",{className:"edit-task",children:s.jsx("div",{className:"row",children:s.jsx("div",{className:"col-xl-12",children:s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header card-no-border pb-0",children:s.jsx("h3",{className:"card-title mb-0",children:a?r.name:"New Task"})}),s.jsxs("div",{className:"card-body",children:[s.jsxs("form",{onSubmit:j,children:[s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Task Name"}),s.jsx("input",{className:"form-control",name:"name",value:r.name,onChange:u,required:!0})]}),s.jsx("div",{className:"form-footer",children:s.jsx("button",{className:"btn btn-primary btn-block",type:"submit",children:a?"Update Task":"Create Task"})})]}),i.message&&s.jsx(T,{type:i.type,message:i.message,title:i.title})]})]})})})})})]})}export{I as default};
