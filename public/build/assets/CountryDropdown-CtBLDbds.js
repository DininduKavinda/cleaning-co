import{r,b as C,j as d}from"./app--yM69B3u.js";import{S as g}from"./react-select.esm-gHH6TMdO.js";import{s as y}from"./CountryApi-Cs8Zc2Y8.js";const E=({countryId:a,setCountryId:l})=>{const[c,s]=r.useState([]),[u,n]=r.useState(!1);r.useEffect(()=>{a&&f(a)},[a]);const p=async e=>{n(!0);try{const o=(await y({"country_name[like]":e})).data.data.map(i=>({value:i.id,label:i.country_name}));s(o)}catch(t){console.error("Error fetching countries:",t)}finally{n(!1)}},f=async e=>{n(!0);try{const o=(await C.get(`http://16.171.64.154/api/location/countries/${e}`)).data.data;s([{value:o.id,label:o.country_name}])}catch(t){console.error("Error fetching initial country:",t)}finally{n(!1)}},h=e=>{e?p(e):s([])},m=e=>{l(e?e.value:null)};return d.jsx(g,{placeholder:"Select Country",value:c.find(e=>e.value===a)||null,isLoading:u,onInputChange:h,options:c,onChange:m,isClearable:!0,cacheOptions:!0})};export{E as C};
