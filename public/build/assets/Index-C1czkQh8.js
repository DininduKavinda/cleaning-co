import{r,j as t,a as E}from"./app-BGrlIOB8.js";import{A as T}from"./AuthenticatedLayout-X6LyfNqf.js";import B from"./SearchBox-D7TcMpon.js";import H from"./Table-psOl5v2j.js";import{a as I}from"./ClientApi-qUoKkyyW.js";import"./index-Blqs8vea.js";import"./Api-_485fmwb.js";import"./CountryDropdown-15e23UzF.js";import"./react-select.esm-DzUBhU4r.js";import"./floating-ui.dom-DtcZXcvp.js";import"./CountryApi-Crjr2a2x.js";import"./ProvinceDropdown-Cd5cFD0a.js";import"./ProvinceApi-BfCA5BaZ.js";import"./DistrictDropdown-DTUsm_Ju.js";import"./DistrictApi-B-Mbc2sZ.js";import"./CityDropdown-CLUh7akr.js";import"./Table-BqnJdb4d.js";import"./Pagination-D0f-Sv8X.js";function re({auth:u}){const[p,y]=r.useState([]),[h,x]=r.useState(""),[c,g]=r.useState(""),[i,S]=r.useState(""),[n,f]=r.useState(""),[o,j]=r.useState(""),[l,v]=r.useState(""),[m,C]=r.useState(""),[N,Q]=r.useState({currentPage:1,lastPage:1,total:0,perPage:10}),d=async(e=1)=>{try{const a=[];(h||c||i||n||o||l||m)&&(a.push(`full_name[like]=${h}`),c!=""&&a.push(`active[eq]=${c}`),i!=""&&a.push(`country_id[eq]=${i}`),n!=""&&a.push(`province_id[eq]=${n}`),o!=""&&a.push(`city_id[eq]=${o}`),l!=""&&a.push(`district_id[eq]=${l}`),a.push(`nic[like]=${m}`));const D=a.length>0?`&${a.join("&")}`:"",s=await I(e,D);y(s.data.data),Q({currentPage:s.data.meta.current_page,lastPage:s.data.meta.last_page,total:s.data.meta.total,perPage:s.data.meta.per_page})}catch(a){console.error("There was an error fetching the client data!",a)}};r.useEffect(()=>{d()},[h,c,i,n,o,l,m]);const P=e=>x(e),b=e=>g(e),_=e=>S(e),$=e=>f(e),q=e=>j(e),A=e=>v(e),k=e=>C(e),w=e=>d(e);return t.jsxs(T,{client:u.user,header:t.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Clients"}),children:[t.jsx("div",{className:"container-fluid",children:t.jsx("div",{className:"page-title",children:t.jsxs("div",{className:"row",children:[t.jsxs("div",{className:"col-sm-6 col-12",children:[t.jsx("h2",{children:"Clients"}),t.jsx("p",{className:"mb-0 text-title-gray",children:"Welcome back! Letâ€™s start from where you left."})]}),t.jsx("div",{className:"col-sm-6 col-12",children:t.jsx("ol",{className:"breadcrumb",children:t.jsx("li",{className:"breadcrumb-item",children:t.jsx(E,{href:"index.html",children:t.jsx("i",{className:"iconly-Home icli svg-color"})})})})})]})})}),t.jsxs("div",{className:"col-sm-12",children:[t.jsx(B,{onSearch:P,onActiveSearch:b,onCountrySearch:_,onProvinceSearch:$,onCitySearch:q,onDistrictSearch:A,onNicSearch:k}),t.jsx(H,{clients:p,pagination:N,onPageChange:w})]})]})}export{re as default};
