import{r as i,j as e,y as m}from"./app--yM69B3u.js";import{T as x,C as p}from"./TaskDropdown-nHXHnEi_.js";import{D as h}from"./DepartmentDropdown-7-aID5Cx.js";import{c as j}from"./MatterApi-DhzzwAfi.js";import"./react-select.esm-gHH6TMdO.js";import"./floating-ui.dom-DtcZXcvp.js";import"./ClientApi-B_7ZANSU.js";import"./Api-Rb4oq7BM.js";import"./TaskApi-D4YgcytR.js";import"./DepartmentApi-CjNP4ZaZ.js";function w({formData:a,handleChange:s}){const[d,o]=i.useState(!1),[c,l]=i.useState(null);i.useState(!1);const n=async t=>{t.preventDefault(),o(!0),l(null);try{const r=await j(a);r.status===201?m.get(`${r.data.data.id}`):l("Failed to create matter. Please try again.")}catch{l("An error occurred while creating the matter.")}finally{o(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx("h5",{className:"f-w-600",children:"Matter Information"}),e.jsx("p",{children:"Fill up the following information"}),e.jsxs("form",{className:"row g-3 needs-validation basic-form",noValidate:!0,onSubmit:n,children:[e.jsxs("div",{className:"col-sm-6",children:[e.jsxs("label",{className:"form-label",htmlFor:"name",children:["Matter",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{className:"form-control",id:"name",type:"text",placeholder:"Enter matter name",name:"name",defaultValue:a.name,onChange:s,required:!0}),e.jsx("div",{className:"valid-feedback",children:"Looks good!"})]}),e.jsxs("div",{className:"col-sm-6",children:[e.jsxs("label",{className:"form-label",htmlFor:"code",children:["Code",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{className:"form-control",id:"code",type:"text",placeholder:"Enter code",name:"code",defaultValue:a.code,onChange:s,required:!0}),e.jsx("div",{className:"valid-feedback",children:"Looks good!"})]}),e.jsxs("div",{className:"col-sm-4",children:[e.jsx("label",{className:"form-label",htmlFor:"started_at",children:"Start Date"}),e.jsx("input",{className:"form-control",id:"started_at",type:"date",placeholder:"Enter start date",name:"started_at",defaultValue:a.started_at,onChange:s}),e.jsx("div",{className:"valid-feedback",children:"Looks good!"})]}),e.jsxs("div",{className:"col-sm-4",children:[e.jsx("label",{className:"form-label",htmlFor:"task",children:"Task"}),e.jsx(x,{taskId:a.task_id,onChange:t=>s({target:{name:"task_id",value:t}})}),e.jsx("div",{className:"invalid-feedback",children:"Please select a valid task."})]}),e.jsxs("div",{className:"col-sm-4",children:[e.jsx("label",{className:"form-label",htmlFor:"department",children:"Department"}),e.jsx(h,{selectedDepartment:a.department_id,onChange:t=>s({target:{name:"department_id",value:t}})}),e.jsx("div",{className:"invalid-feedback",children:"Please select a valid department."})]}),e.jsxs("div",{className:"col-sm-6",children:[e.jsx("label",{className:"form-label",htmlFor:"chooseClient",children:"Choose Client"}),e.jsx(p,{clientId:a.client_id,setClientId:t=>s({target:{name:"client_id",value:t}})}),e.jsx("div",{className:"invalid-feedback",children:"Please select a valid client."})]}),e.jsxs("div",{className:"col-12",children:[e.jsx("label",{className:"form-label",htmlFor:"description",children:"Other Notes"}),e.jsx("textarea",{className:"form-control",id:"description",rows:"3",placeholder:"Enter your description...",name:"description",defaultValue:a.description,onChange:s})]}),c&&e.jsx("p",{className:"text-danger",children:c}),e.jsx("div",{className:"col-12 text-end",children:e.jsxs("button",{type:"submit",className:"btn btn-primary",disabled:d,children:[d?"Saving...":"Proceed to Next",e.jsx("i",{className:"fa-solid fa-truck proceed-next pe-2",children:" "})]})})]})]})}export{w as default};
