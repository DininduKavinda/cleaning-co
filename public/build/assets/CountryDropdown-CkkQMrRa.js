import{r,b as m,j as C}from"./app-XFbUVf-n.js";import{S as d}from"./react-select.esm-D-AvBf3p.js";import{s as y}from"./CountryApi-DkXjArS7.js";const E=({countryId:a,setCountryId:l})=>{const[c,s]=r.useState([]),[u,n]=r.useState(!1);r.useEffect(()=>{a&&f(a)},[a]);const p=async e=>{n(!0);try{const o=(await y({"country_name[like]":e})).data.data.map(i=>({value:i.id,label:i.country_name}));s(o)}catch(t){console.error("Error fetching countries:",t)}finally{n(!1)}},f=async e=>{n(!0);try{const o=(await m.get(`http://cleaning-co.test/api/location/countries/${e}`)).data.data;s([{value:o.id,label:o.country_name}])}catch(t){console.error("Error fetching initial country:",t)}finally{n(!1)}},h=e=>{e?p(e):s([])},g=e=>{l(e?e.value:null)};return C.jsx(d,{placeholder:"Select Country",value:c.find(e=>e.value===a)||null,isLoading:u,onInputChange:h,options:c,onChange:g,isClearable:!0,cacheOptions:!0})};export{E as C};
