import{q as j,r as c,j as e,y as b}from"./app--yM69B3u.js";import{A as N}from"./AuthenticatedLayout-C1S-0GyU.js";import{g,u as v,c as y}from"./RoleApi-DiK14BRS.js";import{B as R}from"./BootstrapToaster-3hnoYUoa.js";import"./index-CW7j9gvC.js";import"./Api-Rb4oq7BM.js";function B({auth:m}){var d;const l=(d=j().props.role)==null?void 0:d.id,[t,o]=c.useState({name:""}),[a,h]=c.useState(!1),[i,n]=c.useState({type:"",message:"",title:""});c.useEffect(()=>{l&&(h(!0),x())},[l]);const x=async()=>{try{const s=(await g(l)).data.data;o({name:s.name})}catch(r){console.error("Error fetching role data:",r)}},u=r=>{const{name:s,value:p}=r.target;o({...t,[s]:p})},f=async r=>{r.preventDefault();try{let s;a?s=await v(l,t).then(b.visit(route("role_web_webs.index"))):s=await y(t),s.status===201?n({type:"success",message:"success.",title:"Success"}):n({type:"error",message:s.data.message,title:"error"})}catch(s){console.error("Error saving role data:",s)}};return e.jsxs(N,{user:m.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:a?"Edit Role":"Create Role"}),children:[e.jsx("div",{className:"container-fluid",children:e.jsx("div",{className:"page-title",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-6 col-12",children:e.jsx("h2",{children:a?"Edit Profile":"Create Profile"})}),e.jsx("div",{className:"col-sm-6 col-12",children:e.jsxs("ol",{className:"breadcrumb",children:[e.jsx("li",{className:"breadcrumb-item",children:e.jsx("a",{href:"/",children:e.jsx("i",{className:"iconly-Home icli svg-color"})})}),e.jsx("li",{className:"breadcrumb-item",children:"Roles"}),e.jsx("li",{className:"breadcrumb-item active",children:a?"Edit Profile":"Create Profile"})]})})]})})}),e.jsx("div",{className:"container-fluid",children:e.jsx("div",{className:"edit-profile",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-xl-12",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header card-no-border pb-0",children:e.jsx("h3",{className:"card-title mb-0",children:a?t.name:"New Role"})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("form",{onSubmit:f,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Name"}),e.jsx("input",{className:"form-control",name:"name",value:t.name,onChange:u,required:!0})]}),e.jsx("div",{className:"form-footer",children:e.jsx("button",{className:"btn btn-primary btn-block",type:"submit",children:a?"Update Profile":"Create Profile"})})]}),i.message&&e.jsx(R,{type:i.type,message:i.message,title:i.title})]})]})})})})})]})}export{B as default};
