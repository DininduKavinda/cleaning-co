import{r,j as e,a as y}from"./app-CillZM3T.js";import{A as N}from"./AuthenticatedLayout-Bd2vGtaY.js";import S from"./SearchBox-BxyaHEny.js";import I from"./Table-B_mDAjxG.js";import{a as P}from"./ItemApi-mIehaZ69.js";import"./index-Cb0NI_B_.js";import"./Api-Rb4oq7BM.js";import"./ItemTypeDropdown-CTvdN6AB.js";import"./ItemTypeApi-DC5WYWwF.js";import"./Table-BsnR_G_Z.js";import"./Pagination-Dp2kQyLy.js";import"./floating-ui.dom-D73o39gD.js";function B({auth:m}){const[n,l]=r.useState([]),[o,d]=r.useState(""),[c,h]=r.useState(""),[p,x]=r.useState({currentPage:1,lastPage:1,total:0,perPage:10}),i=async(t=1)=>{try{const a=[];(o||c)&&(a.push(`name[like]=${o}`),c!=""&&a.push(`item_type_id[eq]=${c}`));const f=a.length>0?`&${a.join("&")}`:"",s=await P(t,f);l(s.data.data),x({currentPage:s.data.meta.current_page,lastPage:s.data.meta.last_page,total:s.data.meta.total,perPage:s.data.meta.per_page})}catch(a){console.error("There was an error fetching the item data!",a)}};r.useEffect(()=>{i()},[c,o]);const g=t=>{d(t)},u=t=>h(t),j=t=>{i(t)};return e.jsxs(N,{user:m.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Items"}),children:[e.jsx("div",{className:"container-fluid",children:e.jsx("div",{className:"page-title",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-sm-6 col-12",children:[e.jsx("h2",{children:"Items"}),e.jsx("p",{className:"mb-0 text-title-gray",children:"Welcome back! Letâ€™s start from where you left."})]}),e.jsx("div",{className:"col-sm-6 col-12",children:e.jsx("ol",{className:"breadcrumb",children:e.jsx("li",{className:"breadcrumb-item",children:e.jsx(y,{href:"index.html",children:e.jsx("i",{className:"iconly-Home icli svg-color"})})})})})]})})}),e.jsxs("div",{className:"col-sm-12",children:[e.jsx(S,{onSearch:g,onItemTypeSearch:u}),e.jsx(I,{items:n,pagination:p,onPageChange:j})]})]})}export{B as default};
