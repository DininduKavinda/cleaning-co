import{r,j as e,a as u}from"./app-BGrlIOB8.js";import{A as j}from"./AuthenticatedLayout-X6LyfNqf.js";import f from"./SearchBox-BmegNpO5.js";import P from"./Table-YsWCNj5T.js";import{a as N}from"./PermissionApi-BNbDq_H1.js";import"./index-Blqs8vea.js";import"./Api-_485fmwb.js";import"./Pagination-D0f-Sv8X.js";function A({auth:n}){const[l,m]=r.useState([]),[i,d]=r.useState(""),[h,x]=r.useState({currentPage:1,lastPage:1,total:0,perPage:10}),c=async(a=1)=>{try{let t="";const o=[];i&&o.push(`name[like]=${i}`),o.length>0&&(t+=`&${o.join("&")}`);const s=await N(a,t);m(s.data.data),x({currentPage:s.data.meta.current_page,lastPage:s.data.meta.last_page,total:s.data.meta.total,perPage:s.data.meta.per_page})}catch(t){console.error("There was an error fetching the permission data!",t)}};r.useEffect(()=>{c()},[i]);const g=a=>{d(a)},p=a=>{c(a)};return e.jsxs(j,{user:n.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Permissions"}),children:[e.jsx("div",{className:"container-fluid",children:e.jsx("div",{className:"page-title",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-sm-6 col-12",children:[e.jsx("h2",{children:"Permissions"}),e.jsx("p",{className:"mb-0 text-title-gray",children:"Welcome back! Letâ€™s start from where you left."})]}),e.jsx("div",{className:"col-sm-6 col-12",children:e.jsx("ol",{className:"breadcrumb",children:e.jsx("li",{className:"breadcrumb-item",children:e.jsx(u,{href:"index.html",children:e.jsx("i",{className:"iconly-Home icli svg-color"})})})})})]})})}),e.jsxs("div",{className:"col-sm-12",children:[e.jsx(f,{onSearch:g}),e.jsx(P,{permissions:l,pagination:h,onPageChange:p})]})]})}export{A as default};
