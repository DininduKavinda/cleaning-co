import{r,j as d}from"./app-XFbUVf-n.js";import{S as v}from"./react-select.esm-D-AvBf3p.js";import{g as S,s as k}from"./ClientApi-BM7pdcBo.js";import{g as x}from"./TaskApi-Bz3_CESL.js";const b=({clientId:n,setClientId:h})=>{const[u,o]=r.useState([]),[p,a]=r.useState(!1);r.useEffect(()=>{n&&l(n)},[n]);const t=async e=>{a(!0);try{const c=(await k({"full_name[like]":e})).data.data.map(s=>({value:s.id,label:s.full_name}));o(s=>[...s,...c.filter(m=>s.every(y=>y.value!==m.value))])}catch(i){console.error("Error fetching clients:",i)}finally{a(!1)}},l=async e=>{a(!0);try{const c=(await S(e)).data.data,s={value:c.id,label:c.full_name};o(f=>f.some(m=>m.value===c.id)?f:[...f,s])}catch(i){console.error("Error fetching initial client:",i)}finally{a(!1)}},g=e=>{e?t(e):o([])},C=e=>{h(e?e.value:null)};return d.jsx(v,{placeholder:"Select Client",value:u.find(e=>e.value===n)||null,isLoading:p,onInputChange:g,options:u,onChange:C,isClearable:!0,cacheOptions:!0})};function _({value:n,onChange:h}){const[u,o]=r.useState([]),[p,a]=r.useState(!0);return r.useEffect(()=>{(async()=>{try{const l=await x();o(l.data.data),a(!1)}catch(l){console.error("Error fetching tasks:",l),a(!1)}})()},[]),d.jsxs("select",{className:"form-control",value:n,name:"task_id",onChange:t=>h(t.target.value),disabled:p,children:[d.jsx("option",{value:"",children:"Select Task"}),u.map(t=>d.jsx("option",{value:t.id,children:t.name},t.id))]})}export{b as C,_ as T};
