import{r as s,j as e,a as P}from"./app-BGrlIOB8.js";import{A as b}from"./AuthenticatedLayout-X6LyfNqf.js";import E from"./SearchBox-BAD81ahJ.js";import Q from"./Table-BwkwrNhZ.js";import{a as w}from"./UserApi-CGqmr84n.js";import"./index-Blqs8vea.js";import"./Api-_485fmwb.js";import"./Pagination-D0f-Sv8X.js";function B({auth:m,permissions:l}){const[d,u]=s.useState([]),[i,x]=s.useState(""),[o,p]=s.useState(""),[c,g]=s.useState(""),[f,j]=s.useState({currentPage:1,lastPage:1,total:0,perPage:10}),n=async(a=1)=>{try{const t=[];let h="";(i||c||o)&&(t.push(`name[like]=${i}`),t.push(`email[like]=${o}`),c.valueOf()!==""&&t.push(`active[eq]=${c}`)),t.length>0&&(h+=`&${t.join("&")}`);const r=await w(a,h);u(r.data.data),j({currentPage:r.data.meta.current_page,lastPage:r.data.meta.last_page,total:r.data.meta.total,perPage:r.data.meta.per_page})}catch(t){console.error("There was an error fetching the user data!",t)}};s.useEffect(()=>{n()},[i,o,c]);const v=a=>{x(a)},y=a=>{p(a)},S=a=>{g(a)},N=a=>{n(a)};return e.jsxs(b,{user:m.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Users"}),children:[e.jsx("div",{className:"container-fluid",children:e.jsx("div",{className:"page-title",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-sm-6 col-12",children:[e.jsx("h2",{children:"Users"}),e.jsx("p",{className:"mb-0 text-title-gray",children:"Welcome back! Letâ€™s start from where you left."})]}),e.jsx("div",{className:"col-sm-6 col-12",children:e.jsx("ol",{className:"breadcrumb",children:e.jsx("li",{className:"breadcrumb-item",children:e.jsx(P,{href:"index.html",children:e.jsx("i",{className:"iconly-Home icli svg-color"})})})})})]})})}),e.jsxs("div",{className:"col-sm-12",children:[e.jsx(E,{onActiveSearch:S,onSearch:v,onEmailSearch:y,permissions:l}),l["view user"]?e.jsx(Q,{users:d,pagination:f,onPageChange:N,permissions:l}):e.jsx("p",{children:"You do not have permission to update users."})]})]})}export{B as default};
