import{r as s,j as e,a as g}from"./app-CillZM3T.js";import{A as p}from"./AuthenticatedLayout-Bd2vGtaY.js";import j from"./SearchBox-D2g4yTAh.js";import f from"./Table-CHhCNfiU.js";import{a as y}from"./CountryApi-DYq2LDhX.js";import"./index-Cb0NI_B_.js";import"./Api-Rb4oq7BM.js";import"./Table-BsnR_G_Z.js";import"./Pagination-Dp2kQyLy.js";import"./floating-ui.dom-D73o39gD.js";function A({auth:i}){const[n,l]=s.useState([]),[o,m]=s.useState(""),[d,h]=s.useState({currentPage:1,lastPage:1,total:0,perPage:10}),c=async(a=1)=>{try{let r="";o&&(r+=`&country_name[like]=${o}`);const t=await y(a,r);l(t.data.data),h({currentPage:t.data.meta.current_page,lastPage:t.data.meta.last_page,total:t.data.meta.total,perPage:t.data.meta.per_page})}catch(r){console.error("There was an error fetching the country data!",r)}};s.useEffect(()=>{c()},[o]);const u=a=>{m(a)},x=a=>{c(a)};return e.jsxs(p,{user:i.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Countries"}),children:[e.jsx("div",{className:"container-fluid",children:e.jsx("div",{className:"page-title",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-sm-6 col-12",children:[e.jsx("h2",{children:"Countries"}),e.jsx("p",{className:"mb-0 text-title-gray",children:"Welcome back! Letâ€™s start from where you left."})]}),e.jsx("div",{className:"col-sm-6 col-12",children:e.jsx("ol",{className:"breadcrumb",children:e.jsx("li",{className:"breadcrumb-item",children:e.jsx(g,{href:"index.html",children:e.jsx("i",{className:"iconly-Home icli svg-color"})})})})})]})})}),e.jsxs("div",{className:"col-sm-12",children:[e.jsx(j,{onSearch:u}),e.jsx(f,{countries:n,pagination:d,onPageChange:x})]})]})}export{A as default};
