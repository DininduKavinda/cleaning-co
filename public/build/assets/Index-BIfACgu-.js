import{r,j as t,a as D}from"./app-BGrlIOB8.js";import{A as E}from"./AuthenticatedLayout-X6LyfNqf.js";import T from"./SearchBox-C3ON4muq.js";import{M as B,g as H}from"./Table-DA4xsHgL.js";import"./index-Blqs8vea.js";import"./Api-_485fmwb.js";import"./TaskApi-D-Mta_6K.js";import"./react-select.esm-DzUBhU4r.js";import"./floating-ui.dom-DtcZXcvp.js";import"./StaffApi-CwMbBldO.js";import"./Table-BqnJdb4d.js";import"./Pagination-D0f-Sv8X.js";function X({auth:m}){const[p,y]=r.useState([]),[h,x]=r.useState(""),[c,g]=r.useState(""),[i,S]=r.useState(""),[n,f]=r.useState(""),[o,j]=r.useState(""),[l,v]=r.useState(""),[d,N]=r.useState(""),[Q,P]=r.useState({currentPage:1,lastPage:1,total:0,perPage:10}),u=async(e=1)=>{try{const a=[];(h||c||i||n||o||l||d)&&(a.push(`full_name[like]=${h}`),c!=""&&a.push(`active[eq]=${c}`),i!=""&&a.push(`country_id[eq]=${i}`),n!=""&&a.push(`province_id[eq]=${n}`),o!=""&&a.push(`city_id[eq]=${o}`),l!=""&&a.push(`district_id[eq]=${l}`),a.push(`nic[like]=${d}`));const w=a.length>0?`&${a.join("&")}`:"",s=await H(e,w);y(s.data.data),P({currentPage:s.data.meta.current_page,lastPage:s.data.meta.last_page,total:s.data.meta.total,perPage:s.data.meta.per_page})}catch(a){console.error("There was an error fetching the matter data!",a)}};r.useEffect(()=>{u()},[h,c,i,n,o,l,d]);const b=e=>x(e),C=e=>g(e),_=e=>S(e),$=e=>f(e),M=e=>j(e),q=e=>v(e),A=e=>N(e),k=e=>u(e);return t.jsxs(E,{matter:m.user,header:t.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Matters"}),children:[t.jsx("div",{className:"container-fluid",children:t.jsx("div",{className:"page-title",children:t.jsxs("div",{className:"row",children:[t.jsxs("div",{className:"col-sm-6 col-12",children:[t.jsx("h2",{children:"Matters"}),t.jsx("p",{className:"mb-0 text-title-gray",children:"Welcome back! Letâ€™s start from where you left."})]}),t.jsx("div",{className:"col-sm-6 col-12",children:t.jsx("ol",{className:"breadcrumb",children:t.jsx("li",{className:"breadcrumb-item",children:t.jsx(D,{href:"index.html",children:t.jsx("i",{className:"iconly-Home icli svg-color"})})})})})]})})}),t.jsxs("div",{className:"col-sm-12",children:[t.jsx(T,{onSearch:b,onActiveSearch:C,onCountrySearch:_,onProvinceSearch:$,onCitySearch:M,onDistrictSearch:q,onNicSearch:A}),t.jsx(B,{matters:p,pagination:Q,onPageChange:k})]})]})}export{X as default};
