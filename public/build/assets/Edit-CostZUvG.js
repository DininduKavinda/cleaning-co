import{q as f,r as l,W as N,j as e}from"./app--yM69B3u.js";import{A as b}from"./AuthenticatedLayout-C1S-0GyU.js";import{g,u as y,c as P}from"./ProvinceApi-BZyxnoeU.js";import{B as _}from"./BootstrapToaster-3hnoYUoa.js";import{C}from"./CountryDropdown-CtBLDbds.js";import"./index-CW7j9gvC.js";import"./Api-Rb4oq7BM.js";import"./react-select.esm-gHH6TMdO.js";import"./floating-ui.dom-DtcZXcvp.js";import"./CountryApi-Cs8Zc2Y8.js";function U({auth:h}){var m;const c=(m=f().props.province)==null?void 0:m.id,[i,d]=l.useState({type:"",message:"",title:""}),{data:a,setData:n,put:w,post:D,reset:S}=N({name_en:"",country_id:""}),[t,p]=l.useState(!1);l.useEffect(()=>{c&&(p(!0),u())},[c]);const v=(r,s)=>{n(o=>({...o,[r]:s}))},u=async()=>{try{const s=(await g(c)).data.data;n({name_en:s.name_en,country_id:s.country_id})}catch(r){console.error("Error fetching province data:",r)}},x=r=>{const{name:s,value:o}=r.target;n({...a,[s]:o})},j=async r=>{r.preventDefault();try{let s;t?s=await y(c,a):s=await P(a),s.status===201?d({type:"success",message:"success.",title:"Success"}):d({type:"error",message:s.data.message,title:"error"})}catch(s){console.error("Error saving province data:",s)}};return e.jsxs(b,{user:h.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:t?"Edit Province":"Create Province"}),children:[e.jsx("div",{className:"container-fluid",children:e.jsx("div",{className:"page-title",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-6 col-12",children:e.jsx("h2",{children:t?"Edit Province":"Create Province"})}),e.jsx("div",{className:"col-sm-6 col-12",children:e.jsxs("ol",{className:"breadcrumb",children:[e.jsx("li",{className:"breadcrumb-item",children:e.jsx("a",{href:"/",children:e.jsx("i",{className:"iconly-Home icli svg-color"})})}),e.jsx("li",{className:"breadcrumb-item",children:"Provinces"}),e.jsx("li",{className:"breadcrumb-item active",children:t?"Edit Province":"Create Province"})]})})]})})}),e.jsx("div",{className:"container-fluid",children:e.jsx("div",{className:"edit-province",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-xl-12",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header card-no-border pb-0",children:e.jsx("h3",{className:"card-title mb-0",children:t?a.province_name:"New Province"})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("form",{onSubmit:j,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Province Name"}),e.jsx("input",{className:"form-control",name:"name_en",value:a.name_en,onChange:x,required:!0})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Select Country"}),e.jsx(C,{countryId:a.country_id,setCountryId:r=>v("country_id",r)})]}),e.jsx("div",{className:"form-footer",children:e.jsx("button",{className:"btn btn-primary btn-block",type:"submit",children:t?"Update Province":"Create Province"})})]}),i.message&&e.jsx(_,{type:i.type,message:i.message,title:i.title})]})]})})})})})]})}export{U as default};
